<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">    <title>Friend Finder!</title>
  </head>
  <body>
    <div class="container">
        <br>
        <h2>Survey Questions</h2>
        <hr>
    
        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="">
    
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="">
    
        <hr>
    
        <h3><strong>Question 1</strong></h3>
        <h4>I make friends easily.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q1">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
        <h3><strong>Question 2</strong></h3>
        <h4>I have a vivid imagination.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q2">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
    
        <h3><strong>Question 3</strong></h3>
        <h4>I worry about things.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q3">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
    
        <h3><strong>Question 4</strong></h3>
        <h4>I love large parties.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q4">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
    
        <h3><strong>Question 5</strong></h3>
        <h4>I get angry easily.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q5">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
    
        <h3><strong>Question 6</strong></h3>
        <h4>I take charge.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q6">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
    
        <h3><strong>Question 7</strong></h3>
        <h4>I experience my emotions intensely.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q7">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
        <h3><strong>Question 8</strong></h3>
        <h4>I often feel blue.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q8">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
        <h3><strong>Question 9</strong></h3>
        <h4>I love excitement.</h4>
        <div class="form-group" style="width: 20%;">
            <select class="form-control" id="q9">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
    
        <h3><strong>Question 10</strong></h3>
        <h4>I like to solve complex problems.</h4>
        <div class="form-group" style="width: 20%;">
            
            <select class="form-control" id="q10">
              <option>Select an option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <br><hr>
        <br>
        <br>
    
        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
         Submit</button>
    
        <hr>

        <!-- modal -->
        <div class="modal fade" id="myModalMatch" role="dialog">
            <div class="modal-dialog modal-lg">                
                <div class="modal-content">                
                <div class="modal-body text-primary text-center">
                    <p>Your best match</p>
                    <img id="imageOpen" src="">
                    <br>
                    <button type="button" id="reStartButton" class="btn btn-default btn-danger mt-1" data-dismiss="modal">Close</button>
                </div>
                
                </div>          
            </div>
        </div>

        <footer class="footer">
          <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/AlexTorres1/friendfinder">GitHub Repo</a></p>
          </div>
        </footer>
    
      </div>

      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> 
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>

        $("#submit").on("click", function(event) {
          event.preventDefault();
          $(".modal").modal();
        
          // Make a data object
          var data = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            questionScores: [
              $("#q1").val(),
              $("#q2").val(),
              $("#q3").val(),
              $("#q4").val(),
              $("#q5").val(),
              $("#q6").val(),
              $("#q7").val(),
              $("#q8").val(),
              $("#q9").val(),
              $("#q10").val()
          ]  
          };
        
          console.log(data.questionScores);
        
          // Send an AJAX POST-request with jQuery
          $.post("/api/friends", data)
            // On success, run the following code
            .then(function(response) {
              alert(JSON.stringify(response));
              $("#myModalMatch").html(data.questionScores);
            });
        
        });
        
              
              </script>
  </body>
</html>